<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-api">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.0">
<title data-rh="true">API | MSAGL.js</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://microsoft.github.io/msagljs/docs/api"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="API | MSAGL.js"><meta data-rh="true" name="description" content="Use the layout engine directly"><meta data-rh="true" property="og:description" content="Use the layout engine directly"><link data-rh="true" rel="icon" href="/msagljs/img/logo.svg"><link data-rh="true" rel="canonical" href="https://microsoft.github.io/msagljs/docs/api"><link data-rh="true" rel="alternate" href="https://microsoft.github.io/msagljs/docs/api" hreflang="en"><link data-rh="true" rel="alternate" href="https://microsoft.github.io/msagljs/docs/api" hreflang="x-default"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.24/dist/katex.min.css" integrity="sha384-odtC+0UGzzFL/6PNoE8rX/SPcQDXBJ+uRepguP4QkPCm2LBxH3FA3y+fKSiJ+AmM" crossorigin="anonymous"><link rel="stylesheet" href="/msagljs/assets/css/styles.a39acb09.css">
<link rel="preload" href="/msagljs/assets/js/runtime~main.e94551c3.js" as="script">
<link rel="preload" href="/msagljs/assets/js/main.d4a163c8.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top navbarHideable_m1mJ"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/msagljs/"><div class="navbar__logo"><img src="/msagljs/img/logo.svg" alt="Microsoft Automatic Graph Layout for JavaScript" class="themedImage_ToTc themedImage--light_HNdA"><img src="/msagljs/img/logo.svg" alt="Microsoft Automatic Graph Layout for JavaScript" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">MSAGL.js</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/msagljs/docs/intro">Docs</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/microsoft/msagljs" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link" aria-label="GitHub repository"></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd sidebarWithHideableNavbar_wUlq"><a tabindex="-1" class="sidebarLogo_isFc" href="/msagljs/"><img src="/msagljs/img/logo.svg" alt="Microsoft Automatic Graph Layout for JavaScript" class="themedImage_ToTc themedImage--light_HNdA"><img src="/msagljs/img/logo.svg" alt="Microsoft Automatic Graph Layout for JavaScript" class="themedImage_ToTc themedImage--dark_i4oU"><b>MSAGL.js</b></a><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/msagljs/docs/intro">Introduction</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/msagljs/docs/getting-started">Getting Started</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/msagljs/docs/configuration">Configuration</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" href="/msagljs/docs/api">API</a></li></ul></nav><button type="button" title="Collapse sidebar" aria-label="Collapse sidebar" class="button button--secondary button--outline collapseSidebarButton_PEFL"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_kv0_"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/msagljs/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">API</span><meta itemprop="position" content="1"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>API</h1><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="use-the-layout-engine-directly">Use the layout engine directly<a href="#use-the-layout-engine-directly" class="hash-link" aria-label="Direct link to Use the layout engine directly" title="Direct link to Use the layout engine directly">​</a></h2><p>When you interact with a renderer, many details are hidden under the hood.
Here we show how to call the engine directly</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="create-a-geometry-graph-and-call-the-default-layout">Create a geometry graph and call the default layout<a href="#create-a-geometry-graph-and-call-the-default-layout" class="hash-link" aria-label="Direct link to Create a geometry graph and call the default layout" title="Direct link to Create a geometry graph and call the default layout">​</a></h3><p>We need to say a few words on the classes involved.
Let us describe the design of Node, Graph, and Edge.</p><p>Edge is the simplest of these three: it has the source and the target that are Nodes.
Node has three sets of Edges: outEdges, inEdges, and selfEdges.
If you have an object of Node available you can iterate over all edges adjacent to it.
For example, to process all edges having node &#x27;n&#x27; as the source do the following:</p><div class="language-ts codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-ts codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> e </span><span class="token keyword" style="color:#00009f">of</span><span class="token plain"> n</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">outEdges</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// process edge &#x27;e&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Graph extends Node, but in addition it has a NodeCollection, which is a wrapper
of Map&lt;string, Node&gt;: this way a Graph can reference its nodes. To create a sub-graph we just
add a Graph as a new node to the graph.</p><div class="language-ts codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-ts codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> graph </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">Graph</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> subgraph </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">Graph</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;a&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">graph</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">addNode</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">subgraph</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>This design seems minimal and efficient enough to maintain the graph structure. For example, to iterate over all edges of the graph
we go over the nodes in the graph&#x27;s NodeCollection and iterate over outgoing and self-edge of the nodes.</p><p>The classes Graph, Node, and Edge extend class Entity. Entity has a field parent that is also an Entity.
This way a Node, and an Edge, have a reference to the Graph they belongs to.
There is a class Label to facilitate labelled edges. The parent of a Label is the labeled edge.</p><p>Entity has an array of Attributes. The Attributes keep additional information associated with the graph entities.
There are geometry attributes, drawing attributes, and some others.
The geometry attributes are needed to create a layout. The drawing attributes are used during rendering.
The attributes are a convenient mechanism to avoid a duplication of the graph structure.</p><p>Now we can return to the engine level layout example.</p><div class="language-ts codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-ts codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">//First we create a Graph, the underlying structure to keep your graph.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> graph </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">Graph</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// add some nodes and edges to the graph.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// add a node with id &#x27;b&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> b </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">Node</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;b&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">graph</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">addNode</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">b</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// add a node with id &#x27;c&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> c </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">Node</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;c&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">graph</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">addNode</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">c</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// create edges b-&gt;c, and d-&gt;a</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> bc </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">Edge</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">b</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> c</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">Edge</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">b</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> c</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>The last statement of the code above</p><div class="language-ts codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-ts codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">Edge</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">b</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> c</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>creates an instance of class Edge and adds it to b.outEdges and c.inEdges.
This way the edge is attached to the graph.
For the engine to run the layout, each node has to have node.boundaryCurve defined. In this examples we create circular nodes.</p><div class="language-ts codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-ts codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// create a geometry node gb</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> gb </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">GeomNode</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">b</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">gb</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">boundaryCurve </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> CurveFactory</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">mkCircle</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">20</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">Point</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>The two lines above create a GeomNode, gb, corresponding to node &#x27;b&#x27;,
which is actually an Attribute that is stored in the array of attributes of node &#x27;b&#x27;.
The code also sets the boundary curve describing the shape of &#x27;gb&#x27;: in this case it is
a circle with the radius of length 20 and the center at the origin of the plane. The layout might transform the
curve later by changing the circle center. In general, the layout does not depend on the node.boundaryCurve initial positions. We create geometry attributes for each element of the graph
to interact with the layout, and, finally, call the layout engine. Below the whole working example.</p><div class="language-ts codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-ts codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  CurveFactory</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Edge</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  GeomEdge</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  GeomGraph</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  GeomNode</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Graph</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Node</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Point</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  layoutGeomGraph</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;@msagl/core&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> graph </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">Graph</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// add some nodes and edges to the graph.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// add a node with id &#x27;b&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> b </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">Node</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;b&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">graph</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">addNode</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">b</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// add a node with id &#x27;c&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> c </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">Node</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;c&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">graph</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">addNode</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">c</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// create edges b-&gt;c, and d-&gt;a</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> bc </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">Edge</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">b</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> c</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> geomGraph </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">GeomGraph</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">graph</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> gbc</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> GeomEdge </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">GeomEdge</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">bc</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> gb </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">GeomNode</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">b</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">gb</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">boundaryCurve </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> CurveFactory</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">mkCircle</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">20</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">Point</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> gc </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">GeomNode</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">c</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">gc</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">boundaryCurve </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> CurveFactory</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">mkCircle</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">20</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">Point</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">layoutGeomGraph</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">geomGraph</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token builtin">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">gbc</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">curve</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>This code produces the following output:<br>
<!-- -->&#x27;LineSegment {parStart: 0, parEnd: 1, start: Point { x<em>: 49.99999999999999, y</em>: 30},<br>
<!-- -->end: Point { x<em>: 70, y</em>: 30 }}&#x27;<br>
<!-- -->In many cases we would like to control the engine more than in the previos example.
We describe three methods of the layout that are implemented in the package.</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="sugiyama-scheme-or-layered-layout">Sugiyama scheme, or layered layout.<a href="#sugiyama-scheme-or-layered-layout" class="hash-link" aria-label="Direct link to Sugiyama scheme, or layered layout." title="Direct link to Sugiyama scheme, or layered layout.">​</a></h3><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="short-description-of-the-method">Short description of the method<a href="#short-description-of-the-method" class="hash-link" aria-label="Direct link to Short description of the method" title="Direct link to Short description of the method">​</a></h4><p>Sugiayama scheme sometimes is also called the hierarchical layout. It is meant for a directed graph. It organizes the nodes in horizontal layers and renders the edges following their direction.
There is an <a href="https://en.wikipedia.org/wiki/Layered_graph_drawing." target="_blank" rel="noopener noreferrer">article</a> describing the method.<br>
<!-- -->The implementation of the scheme in MSAGL closely follows <a href="https://www.researchgate.net/profile/Emden-Gansner/publication/3187542_A_Technique_for_Drawing_Directed_Graphs/links/5c0abd024585157ac1b04523/A-Technique-for-Drawing-Directed-Graphs.pdf" target="_blank" rel="noopener noreferrer">the paper of Dot/Graphviz authors</a>. The differences of the implementation of MSAGL with the Dot approach are mostly described in <a href="https://www.microsoft.com/en-us/research/wp-content/uploads/2016/02/gd2007-glee.pdf" target="_blank" rel="noopener noreferrer">Drawing Graphs with GLEE</a> and <a href="https://elar.urfu.ru/bitstream/10995/111368/1/2-s2.0-79952265484.pdf" target="_blank" rel="noopener noreferrer">Improving Layered Graph Layouts with Edge Bundling</a>. The improvements are in the fast calculation of the layers, and the edge routing.</p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="calling-sugiama-scheme">Calling Sugiama Scheme<a href="#calling-sugiama-scheme" class="hash-link" aria-label="Direct link to Calling Sugiama Scheme" title="Direct link to Calling Sugiama Scheme">​</a></h4><p>There are two ways to ensure the Sugiyama Scheme. One way is to use the high level API:</p><div class="language-ts codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-ts codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">layoutGraphWithSugiayma</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  geomGraph</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> GeomGraph</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  cancelToken</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> CancelToken</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  transformToScreen</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">boolean</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>The first parameter of the function is the graph under layout, the second is cancelToken to enable the method cancellation. The third argument, transformToScreen, when set to true will cause the geometry flip around the x-axis: transformation of the graph geometry by mapping (x,y) to (x, -y) and then shifting the graph into the first quadrand of the plane with the left-bottom of the graph at (0,0). The cancellation token is ignored by now, so null can be used for it.</p><p>Another method is to use property GeometryGraph.layoutSettings.</p><div class="language-ts codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-ts codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">geomGraph</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">layoutSettings </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">SugiyamaLayoutSettings</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// change the settings that you need</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">//try to move layers closer to each other</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">geomGraph</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">layoutSettings</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">yLayerSep </span><span class="token operator" style="color:#393A34">/=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// change more settings here...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// call the layout engine</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">geomGraph</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">layoutSettings</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">layoutGraphWithSugiayma</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">geomGraph</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">null</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">false</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// or call</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">layoutGeomGraph</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">geomGraph</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// and the setting will be respected</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>In general, SugiyamaLayoutSetting property corresponds to the attributes of <a href="https://graphviz.org/doc/info/lang.html" target="_blank" rel="noopener noreferrer">Dot language</a>.
The most popular settings to change in SugiyamaLayoutSettings is the layerDirection.</p><div class="language-ts codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-ts codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">SugiamaLayoutSettings</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">layerDirection</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> LayerDirectionEnum</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>LayerDirectionEnum has values {TB, LR, BT, RL}, where TB means Top-Bottom, and is the default, LR means Left - Right, BT means Bottom - Top, and RL means Right - Left.
This enum comes from <a href="https://graphviz.org/docs/attrs/rankdir/" target="_blank" rel="noopener noreferrer">Graphvis&#x27;s rankdir</a>. To avoid layouts which are too wide for a graph with long node labels the value LR is often used. If you use &quot;Edit&quot; button on the graph below and change &#x27;rankdir&#x27; to TB then you will get a layout with a wide and low bounding box.</p><div class="language-dot codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-dot codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">digraph G {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    rankdir =&quot;LR&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    a [label = &quot;long label for a&quot;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    b [label = &quot;long label for b&quot;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    c [label = &quot;long label for c&quot;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    e [label = &quot;long label for e&quot;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    d [label = &quot;sync node&quot; ]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    a -&gt; d</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    b -&gt; d</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    c -&gt; d</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    e -&gt; d</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><img loading="lazy" alt="Generated graph" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHRhYmluZGV4PSIwIj48ZyB0cmFuc2Zvcm09Im1hdHJpeCgxLDAsMCwxLCAwLCAwKSI+PGcgdHJhbnNmb3JtPSJtYXRyaXgoMSwwLDAsLTEsIDAsMCkiPjxnPjxwYXRoIGlkPSJib3VuZGFyeUN1cnZlIiBmaWxsPSJub25lIiBkPSJNIDEzLjMzNjkxNDA2MjUgOTEgTCA4Mi4zMDk1NzAzMTI1IDkxIEEgMywzIDAgMCAxIDg1LjMwOTU3MDMxMjUgOTQgTCA4NS4zMDk1NzAzMTI1IDEwNC40IEEgMywzIDAgMCAxIDgyLjMwOTU3MDMxMjUgMTA3LjQgTCAxMy4zMzY5MTQwNjI1IDEwNy40IEEgMywzIDAgMCAxIDEwLjMzNjkxNDA2MjUgMTA0LjQgTCAxMC4zMzY5MTQwNjI1IDk0IEEgMywzIDAgMCAxIDEzLjMzNjkxNDA2MjUgOTEiIHN0cm9rZT0iQmxhY2siIHN0cm9rZS13aWR0aD0iMSIvPjx0ZXh0IGlkPSJub2RlTGFiZWwiIHRleHQtYW5jaG9yPSJtaWRkbGUiIHg9IjQ3LjgyMzI0MjE4NzUiIGZpbGw9IkJsYWNrIiBmb250LWZhbWlseT0iVGltZXMtUm9tYW4iIGZvbnQtc2l6ZT0iMTJweCIgdHJhbnNmb3JtPSJzY2FsZSgxLC0xKSI+PHRzcGFuIGlkPSIwIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiB4PSI0Ny44MjMyNDIxODc1IiBhbGlnbm1lbnQtYmFzZWxpbmU9Im1pZGRsZSIgeT0iLTk5LjIiPmxvbmcgbGFiZWwgZm9yIGE8L3RzcGFuPjwvdGV4dD48L2c+PGc+PHBhdGggaWQ9ImJvdW5kYXJ5Q3VydmUiIGZpbGw9Im5vbmUiIGQ9Ik0gMTMgNjQgTCA4Mi42NDY0ODQzNzUgNjQgQSAzLDMgMCAwIDEgODUuNjQ2NDg0Mzc1IDY3IEwgODUuNjQ2NDg0Mzc1IDc3LjM5OTk5OTk5OTk5OTk5IEEgMywzIDAgMCAxIDgyLjY0NjQ4NDM3NSA4MC4zOTk5OTk5OTk5OTk5OSBMIDEzIDgwLjM5OTk5OTk5OTk5OTk5IEEgMywzIDAgMCAxIDEwIDc3LjM5OTk5OTk5OTk5OTk5IEwgMTAgNjcgQSAzLDMgMCAwIDEgMTMgNjQiIHN0cm9rZT0iQmxhY2siIHN0cm9rZS13aWR0aD0iMSIvPjx0ZXh0IGlkPSJub2RlTGFiZWwiIHRleHQtYW5jaG9yPSJtaWRkbGUiIHg9IjQ3LjgyMzI0MjE4NzUiIGZpbGw9IkJsYWNrIiBmb250LWZhbWlseT0iVGltZXMtUm9tYW4iIGZvbnQtc2l6ZT0iMTJweCIgdHJhbnNmb3JtPSJzY2FsZSgxLC0xKSI+PHRzcGFuIGlkPSIwIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiB4PSI0Ny44MjMyNDIxODc1IiBhbGlnbm1lbnQtYmFzZWxpbmU9Im1pZGRsZSIgeT0iLTcyLjE5OTk5OTk5OTk5OTk5Ij5sb25nIGxhYmVsIGZvciBiPC90c3Bhbj48L3RleHQ+PC9nPjxnPjxwYXRoIGlkPSJib3VuZGFyeUN1cnZlIiBmaWxsPSJub25lIiBkPSJNIDEzLjMzNjkxNDA2MjUgMzYuOTk5OTk5OTk5OTk5OTkgTCA4Mi4zMDk1NzAzMTI1IDM3IEEgMywzIDAgMCAxIDg1LjMwOTU3MDMxMjUgNDAgTCA4NS4zMDk1NzAzMTI1IDUwLjM5OTk5OTk5OTk5OTk5IEEgMywzIDAgMCAxIDgyLjMwOTU3MDMxMjUgNTMuMzk5OTk5OTk5OTk5OTkgTCAxMy4zMzY5MTQwNjI1IDUzLjM5OTk5OTk5OTk5OTk5IEEgMywzIDAgMCAxIDEwLjMzNjkxNDA2MjUgNTAuMzk5OTk5OTk5OTk5OTkgTCAxMC4zMzY5MTQwNjI1IDM5Ljk5OTk5OTk5OTk5OTk5IEEgMywzIDAgMCAxIDEzLjMzNjkxNDA2MjUgMzYuOTk5OTk5OTk5OTk5OTkiIHN0cm9rZT0iQmxhY2siIHN0cm9rZS13aWR0aD0iMSIvPjx0ZXh0IGlkPSJub2RlTGFiZWwiIHRleHQtYW5jaG9yPSJtaWRkbGUiIHg9IjQ3LjgyMzI0MjE4NzUiIGZpbGw9IkJsYWNrIiBmb250LWZhbWlseT0iVGltZXMtUm9tYW4iIGZvbnQtc2l6ZT0iMTJweCIgdHJhbnNmb3JtPSJzY2FsZSgxLC0xKSI+PHRzcGFuIGlkPSIwIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiB4PSI0Ny44MjMyNDIxODc1IiBhbGlnbm1lbnQtYmFzZWxpbmU9Im1pZGRsZSIgeT0iLTQ1LjE5OTk5OTk5OTk5OTk5Ij5sb25nIGxhYmVsIGZvciBjPC90c3Bhbj48L3RleHQ+PC9nPjxnPjxwYXRoIGlkPSJib3VuZGFyeUN1cnZlIiBmaWxsPSJub25lIiBkPSJNIDEzLjMzNjkxNDA2MjUgOS45OTk5OTk5OTk5OTk5OTYgTCA4Mi4zMDk1NzAzMTI1IDkuOTk5OTk5OTk5OTk5OTk1IEEgMywzIDAgMCAxIDg1LjMwOTU3MDMxMjUgMTIuOTk5OTk5OTk5OTk5OTk2IEwgODUuMzA5NTcwMzEyNSAyMy4zOTk5OTk5OTk5OTk5OTUgQSAzLDMgMCAwIDEgODIuMzA5NTcwMzEyNSAyNi4zOTk5OTk5OTk5OTk5OTUgTCAxMy4zMzY5MTQwNjI1IDI2LjM5OTk5OTk5OTk5OTk5NSBBIDMsMyAwIDAgMSAxMC4zMzY5MTQwNjI1IDIzLjM5OTk5OTk5OTk5OTk5NSBMIDEwLjMzNjkxNDA2MjUgMTIuOTk5OTk5OTk5OTk5OTk2IEEgMywzIDAgMCAxIDEzLjMzNjkxNDA2MjUgOS45OTk5OTk5OTk5OTk5OTYiIHN0cm9rZT0iQmxhY2siIHN0cm9rZS13aWR0aD0iMSIvPjx0ZXh0IGlkPSJub2RlTGFiZWwiIHRleHQtYW5jaG9yPSJtaWRkbGUiIHg9IjQ3LjgyMzI0MjE4NzUiIGZpbGw9IkJsYWNrIiBmb250LWZhbWlseT0iVGltZXMtUm9tYW4iIGZvbnQtc2l6ZT0iMTJweCIgdHJhbnNmb3JtPSJzY2FsZSgxLC0xKSI+PHRzcGFuIGlkPSIwIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiB4PSI0Ny44MjMyNDIxODc1IiBhbGlnbm1lbnQtYmFzZWxpbmU9Im1pZGRsZSIgeT0iLTE4LjE5OTk5OTk5OTk5OTk5NiI+bG9uZyBsYWJlbCBmb3IgZTwvdHNwYW4+PC90ZXh0PjwvZz48Zz48cGF0aCBpZD0iYm91bmRhcnlDdXJ2ZSIgZmlsbD0ibm9uZSIgZD0iTSAxMTguNjQ2NDg0Mzc1IDM2Ljk5OTk5OTk5OTk5OTk4NiBMIDE2Mi45Njg3NSAzNi45OTk5OTk5OTk5OTk5OSBBIDMsMyAwIDAgMSAxNjUuOTY4NzUgMzkuOTk5OTk5OTk5OTk5OTkgTCAxNjUuOTY4NzUgNTAuMzk5OTk5OTk5OTk5OTkgQSAzLDMgMCAwIDEgMTYyLjk2ODc1IDUzLjM5OTk5OTk5OTk5OTk5IEwgMTE4LjY0NjQ4NDM3NSA1My4zOTk5OTk5OTk5OTk5OSBBIDMsMyAwIDAgMSAxMTUuNjQ2NDg0Mzc1IDUwLjM5OTk5OTk5OTk5OTk5IEwgMTE1LjY0NjQ4NDM3NSAzOS45OTk5OTk5OTk5OTk5ODYgQSAzLDMgMCAwIDEgMTE4LjY0NjQ4NDM3NSAzNi45OTk5OTk5OTk5OTk5ODYiIHN0cm9rZT0iQmxhY2siIHN0cm9rZS13aWR0aD0iMSIvPjx0ZXh0IGlkPSJub2RlTGFiZWwiIHRleHQtYW5jaG9yPSJtaWRkbGUiIHg9IjE0MC44MDc2MTcxODc1IiBmaWxsPSJCbGFjayIgZm9udC1mYW1pbHk9IlRpbWVzLVJvbWFuIiBmb250LXNpemU9IjEycHgiIHRyYW5zZm9ybT0ic2NhbGUoMSwtMSkiPjx0c3BhbiBpZD0iMCIgdGV4dC1hbmNob3I9Im1pZGRsZSIgeD0iMTQwLjgwNzYxNzE4NzUiIGFsaWdubWVudC1iYXNlbGluZT0ibWlkZGxlIiB5PSItNDUuMTk5OTk5OTk5OTk5OTkiPnN5bmMgbm9kZTwvdHNwYW4+PC90ZXh0PjwvZz48Zz48cGF0aCBpZD0iY3VydmUiIGZpbGw9Im5vbmUiIHN0cm9rZT0iQmxhY2siIHN0cm9rZS1vcGFjaXR5PSIxIiBzdHJva2Utd2lkdGg9IjEiIGQ9Ik0gNzAuNDEyNjg1OTcwMzYyODcgOTEuMDAwMDAwMDAwMDAwMDEgQzgzLjIxMjM0MjY2Mjk0NTI4IDg1Ljk4MDI4NDM5NjIxOTIgOTcuODcxNzQ2NTg2MDgxNDkgNzcuMjk2MDk4NTE2MTM4MDkgMTE0LjM5MDg5NzczOTc3MTI4IDY0Ljk0NzQ0MjM1OTc1NjY1IEwgMTI1LjgzMzUxMDI4MzMwNzA4IDU2LjM5MzY4MDMzNDMyMzU4Ii8+PHBvbHlnb24gaWQ9InRhcmdldEFyciIgc3Ryb2tlPSJCbGFjayIgc3Ryb2tlLW9wYWNpdHk9IjEiIHN0cm9rZS13aWR0aD0iMSIgcG9pbnRzPSIxMjYuNDk3MTkzMjM1MDg1NzUgNTcuMjgxNTA4MDM0NzQwNDYgMTI5LjgzODI0MjI0MTM2NDI0IDUzLjM5OTk5OTk5OTk5OTk5IDEyNS4xNjk4MjczMzE1Mjg0MSA1NS41MDU4NTI2MzM5MDY2OSIvPjwvZz48Zz48cGF0aCBpZD0iY3VydmUiIGZpbGw9Im5vbmUiIHN0cm9rZT0iQmxhY2siIHN0cm9rZS1vcGFjaXR5PSIxIiBzdHJva2Utd2lkdGg9IjEiIGQ9Ik0gNzYuMDYyOTQxMjYxNTc0MTEgNjQgTCAxMTEuNTI5MjA4NjgxNjMxOTkgNTMuNzAxNjExNDc2NzUwMTIiLz48cG9seWdvbiBpZD0idGFyZ2V0QXJyIiBzdHJva2U9IkJsYWNrIiBzdHJva2Utb3BhY2l0eT0iMSIgc3Ryb2tlLXdpZHRoPSIxIiBwb2ludHM9IjExMS44MzgzMTAyMzcxOTI2MyA1NC43NjYxMTU3MzQzNTUxIDExNi4zMzA4NzcwODg1OTUyMyA1Mi4zMDczNDQ0NjE1ODc1MyAxMTEuMjIwMTA3MTI2MDcxMzQgNTIuNjM3MTA3MjE5MTQ1MTM2Ii8+PC9nPjxnPjxwYXRoIGlkPSJjdXJ2ZSIgZmlsbD0ibm9uZSIgc3Ryb2tlPSJCbGFjayIgc3Ryb2tlLW9wYWNpdHk9IjEiIHN0cm9rZS13aWR0aD0iMSIgZD0iTSA4NS4zMDk1NzAzMTI1IDQ1LjE5OTk5OTk5OTk5OTk5IEwgMTEwLjY0NjQ4NDM3NSA0NS4xOTk5OTk5OTk5OTk5OSIvPjxwb2x5Z29uIGlkPSJ0YXJnZXRBcnIiIHN0cm9rZT0iQmxhY2siIHN0cm9rZS1vcGFjaXR5PSIxIiBzdHJva2Utd2lkdGg9IjEiIHBvaW50cz0iMTEwLjY0NjQ4NDM3NSA0Ni4zMDg0NzMzMTMyMTQ2OSAxMTUuNjQ2NDg0Mzc1IDQ1LjE5OTk5OTk5OTk5OTk5IDExMC42NDY0ODQzNzUgNDQuMDkxNTI2Njg2Nzg1Mjg2Ii8+PC9nPjxnPjxwYXRoIGlkPSJjdXJ2ZSIgZmlsbD0ibm9uZSIgc3Ryb2tlPSJCbGFjayIgc3Ryb2tlLW9wYWNpdHk9IjEiIHN0cm9rZS13aWR0aD0iMSIgZD0iTSA3Ni4wNjI5NDEyNjE1NzQxMSAyNi4zOTk5OTk5OTk5OTk5OTUgTCAxMTEuNTI5MjA4NjgxNjMxOTkgMzYuNjk4Mzg4NTIzMjQ5ODciLz48cG9seWdvbiBpZD0idGFyZ2V0QXJyIiBzdHJva2U9IkJsYWNrIiBzdHJva2Utb3BhY2l0eT0iMSIgc3Ryb2tlLXdpZHRoPSIxIiBwb2ludHM9IjExMS4yMjAxMDcxMjYwNzEzNCAzNy43NjI4OTI3ODA4NTQ4NSAxMTYuMzMwODc3MDg4NTk1MjMgMzguMDkyNjU1NTM4NDEyNDUgMTExLjgzODMxMDIzNzE5MjYzIDM1LjYzMzg4NDI2NTY0NDg5Ii8+PC9nPjwvZz48L2c+PC9zdmc+" class="img_ev3q"><button type="button" title="Load code in side editor" class="hidemobile_Efjn mr1_wIym button button--primary">Edit</button><p>Function &#x27;layoutGraphWithSugiayma()&#x27; does not require that geomGraph.layoutSettings is set, but if this property is undefined or
its type is not SugiamaLayoutSettings then a new SugiamaLayoutSettings() is created and assigned to the property. Function &#x27;layoutGeomGraph()&#x27; also can change this property as we will describe later.</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="pivot-multidimensional-scaling-or-pivot-mds">Pivot Multidimensional Scaling, or Pivot MDS<a href="#pivot-multidimensional-scaling-or-pivot-mds" class="hash-link" aria-label="Direct link to Pivot Multidimensional Scaling, or Pivot MDS" title="Direct link to Pivot Multidimensional Scaling, or Pivot MDS">​</a></h3><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="the-method-background">The method background<a href="#the-method-background" class="hash-link" aria-label="Direct link to The method background" title="Direct link to The method background">​</a></h4><p>MDS tries to place the graph on the two dimensional plane with the least distortion of the distances between the nodes. You can find more details on <a href="https://en.wikipedia.org/wiki/Multidimensional_scaling" target="_blank" rel="noopener noreferrer">Wikipedia</a>. The method disregards the directions of the edges. Pivot MDS, which is implemented in MSAGL, is a variant of MDS that uses only a subset of pivot nodes for the calculation, making it faster and suitable for large graphs. While MDS uses an n by n matrix for the distances between the nodes, where n is the number of nodes, Pivot MDS uses a k<!-- -->*<!-- -->n matrix of the distances between each node and each of k pivot nodes. The implementation of Pivot MDS in the package follows <a href="https://kops.uni-konstanz.de/bitstream/handle/123456789/5741/bp_empmdsld_06.pdf?sequence=1&amp;isAllowed=y" target="_blank" rel="noopener noreferrer">Eigensolver methods for progressive...</a>.</p><p>Pivot MDS ignores the node sizes and tends to create layouts where the nodes overlap each other. That is why it is followed by an overlap removal with the algorithm of <a href="https://arxiv.org/pdf/1608.02653" target="_blank" rel="noopener noreferrer">GTree</a>. Another additional step, because MDS does not route the edges, is edge routing which is described in <a href="https://www.researchgate.net/profile/Tim-Dwyer-5/publication/43433413_Fast_Edge-Routing_for_Large_Graphs/links/0fcfd511cb774446dd000000/Fast-Edge-Routing-for-Large-Graphs.pdf" target="_blank" rel="noopener noreferrer">Fast edge-routing for large graphs</a>.</p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="calling-mds">Calling MDS<a href="#calling-mds" class="hash-link" aria-label="Direct link to Calling MDS" title="Direct link to Calling MDS">​</a></h4><p>Calling</p><div class="language-ts codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-ts codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">layoutGraphWithMds</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">geomGraph</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> GeomGraph</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> cancelToken</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> CancelToken </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">null</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>will create default &#x27;MDSLayoutSettings&#x27; and calculate the layout.
If the graph has several thousands node then the default settings might cause a slow run.
Instead, create MDSLayoutSettings yourself and set IterationsWithMajorization to zero, to speed up.</p><div class="language-ts codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-ts codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> settings </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">MdsLayoutSettings</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">settings</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">IterationsWithMajorization</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">geomGraph</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">layoutSettings </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> settings</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Each iteration with majorization step improves the node positions in a quadratic in the number of nodes time and can be sacrificed for the performance.</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="ipsepcola">IPSepCola<a href="#ipsepcola" class="hash-link" aria-label="Direct link to IPSepCola" title="Direct link to IPSepCola">​</a></h3><p>It is a variant of a force directed layout with approximate computation of long-range node-node repulsive forces to achieve O(n log n) running time per iteration,
where n is the number of node in a graph.
It can be invoked on an existing layout (for example, as computed by MDS) to beautify it.<br>
<!-- -->The method is described in <a href="https://www.researchgate.net/profile/Tim-Dwyer-5/publication/6715571_IPSep-CoLa_An_Incremental_Procedure_for_Separation_Constraint_Layout_of_Graphs/links/0fcfd5081c588735c8000000/IPSep-CoLa-An-Incremental-Procedure-for-Separation-Constraint-Layout-of-Graphs.pdf" target="_blank" rel="noopener noreferrer">IPSepCola</a>. In MSAGL IPSepCola starts by applying MDS and then improves on it.</p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="calling-ipsepcola">Calling IPSepCola<a href="#calling-ipsepcola" class="hash-link" aria-label="Direct link to Calling IPSepCola" title="Direct link to Calling IPSepCola">​</a></h4><div class="language-ts codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-ts codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> settings </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">IPsepColaSetting</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">/**</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"> * The third parameter of the method is the constraint level.</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"> * The value 2 of the constraint level means that the algorithm will try to satisfy most of the separation constraints, i.e. node separation.</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"> */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> runner </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">IPSepCola</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">geomGraph</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> settings</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">runner</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">run</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="the-default-layout">The default layout<a href="#the-default-layout" class="hash-link" aria-label="Direct link to The default layout" title="Direct link to The default layout">​</a></h3><p>When &#x27;layoutGeomGraph()&#x27; is called for a GeomGraph with undefined layout settings then a layout is<br>
<!-- -->chosen by the following logic: If the graph is directed, and the number of nodes in the graph is not greater than 2000, and the number of edges in the graph is not greater than 4000,
then the Sugiyama Scheme is called. Otherwise, IPSepCola is called.</p><p>Graph is directed, for MSAGL, if it has at least one directed edge, and edge e is directed if e.sourceArrowhead or e.targetArrowhead is not null.</p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="edge-routing">Edge routing<a href="#edge-routing" class="hash-link" aria-label="Direct link to Edge routing" title="Direct link to Edge routing">​</a></h2><p>There are following edge routing modes</p><div class="language-ts codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-ts codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">export</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">enum</span><span class="token plain"> EdgeRoutingMode </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Spline</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  SplineBundling</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  StraightLine</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  SugiyamaSplines</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Rectilinear</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  None</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>&#x27;SugiyamaSpline&#x27; is used only with the Sugiyama Scheme. The rest of the modes can be used with any layout. If the mode is None the edges are not routed.</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="spline-routing-mode">&quot;Spline&quot; routing mode<a href="#spline-routing-mode" class="hash-link" aria-label="Direct link to &quot;Spline&quot; routing mode" title="Direct link to &quot;Spline&quot; routing mode">​</a></h3><p>In this mode the edges are routed around the nodes. The method is rather fast, but unfortunately we do not have a
precize complexity measure. For a graph with 2K nodes+edges it can do the routing in less than a second or two. For a graph with 17k nodes+edges it might require half a minute.</p><p>The algorithm runs shortest paths on <a href="https://www.researchgate.net/profile/Tim-Dwyer-5/publication/43433413_Fast_Edge-Routing_for_Large_Graphs/links/0fcfd511cb774446dd000000/Fast-Edge-Routing-for-Large-Graphs.pdf" target="_blank" rel="noopener noreferrer">a graph spanner</a> as the first step and then optimizes the paths by using <a href="https://www.sciencedirect.com/science/article/pii/002200008990041X/pdf?md5=aa398f6c4c6e17f6aa1688b7e5545cb9&amp;pid=1-s2.0-002200008990041X-main.pdf" target="_blank" rel="noopener noreferrer">the funnel algorithm</a>.
Here is an example of the routing:</p><p><img loading="lazy" alt="Alt text" src="/msagljs/assets/images/splineRouting-1558d65f521338dcd5c423d77b045197.svg#gh-light-mode-only" class="img_ev3q">
<img loading="lazy" alt="Alt text" src="/msagljs/assets/images/splineRouting.dark-1558d65f521338dcd5c423d77b045197.svg#gh-dark-mode-only" class="img_ev3q"></p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="splinebundling-routing-mode">&quot;SplineBundling&quot; routing mode<a href="#splinebundling-routing-mode" class="hash-link" aria-label="Direct link to &quot;SplineBundling&quot; routing mode" title="Direct link to &quot;SplineBundling&quot; routing mode">​</a></h3><p>This algorithm routes edges in the metroline style. The method is described in <a href="https://arxiv.org/pdf/1209.4227.pdf" target="_blank" rel="noopener noreferrer">“Edge routing with ordered bundles”</a>. The algorithm is not very efficient and is slower than the spline routing.
In the drawing below the layout is the same but the edges are routed with the SplineBundling algorithm.</p><p><img loading="lazy" alt="Alt text" src="/msagljs/assets/images/bundleRouting-48acdb2cb04ae31694c275e5c46afb77.svg#gh-light-mode-only" class="img_ev3q">
<img loading="lazy" alt="Alt text" src="/msagljs/assets/images/bundleRouting.dark-48acdb2cb04ae31694c275e5c46afb77.svg#gh-dark-mode-only" class="img_ev3q"></p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="rectilinear-routing-mode">&quot;Rectilinear&quot; routing mode<a href="#rectilinear-routing-mode" class="hash-link" aria-label="Direct link to &quot;Rectilinear&quot; routing mode" title="Direct link to &quot;Rectilinear&quot; routing mode">​</a></h3><p>The method routes edges with segments parallel to the coordinate axes, with an optional arcs at the corners. The mode is not fast, slower than &quot;SplineBundling&quot;, and might slow down considerably even on a graph with 90 nodes.
<img loading="lazy" alt="Alt text" src="/msagljs/assets/images/rectRouting-c2c943240cee4f26ae88590942a70717.svg#gh-light-mode-only" class="img_ev3q">
<img loading="lazy" alt="Alt text" src="/msagljs/assets/images/rectRouting.dark-abf5da99f2e00f042020eb3b3bc6504d.svg#gh-dark-mode-only" width="370" height="135" class="img_ev3q"></p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="straightline-routing-mode">&quot;StraightLine&quot; routing mode<a href="#straightline-routing-mode" class="hash-link" aria-label="Direct link to &quot;StraightLine&quot; routing mode" title="Direct link to &quot;StraightLine&quot; routing mode">​</a></h3><p>It is the fastest mode that routes each edge as a straight line clipped at the source and the target. This mode is a good fallback for a very large graph.</p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="renderer-with-deckgl">Renderer with Deck.gl<a href="#renderer-with-deckgl" class="hash-link" aria-label="Direct link to Renderer with Deck.gl" title="Direct link to Renderer with Deck.gl">​</a></h2><p>Constructor:</p><div class="language-ts codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-ts codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">Renderer</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">container</span><span class="token operator" style="color:#393A34">?</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> HTMLDivElement</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>To layout and render a new graph:</p><div class="language-ts codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-ts codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">renderer</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">setGraph</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">g</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> Graph</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> options</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> RenderOptions</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>To change the layout of the current graph:</p><div class="language-ts codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-ts codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">renderer</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">setOptions</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">options</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> LayoutOptions</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="usage-of-svg-renderer">Usage of SVG Renderer<a href="#usage-of-svg-renderer" class="hash-link" aria-label="Direct link to Usage of SVG Renderer" title="Direct link to Usage of SVG Renderer">​</a></h2><div class="language-ts codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-ts codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> parseDot </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;@msagl/parser&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> RendererSvg </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;@msagl/renderer-svg&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> renderer </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">RendererSvg</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> graph </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">parseDot</span><span class="token punctuation" style="color:#393A34">(</span><span class="token template-string template-punctuation string" style="color:#e3116c">`</span><span class="token template-string string" style="color:#e3116c"></span><br></span><span class="token-line" style="color:#393A34"><span class="token template-string string" style="color:#e3116c">graph G {</span><br></span><span class="token-line" style="color:#393A34"><span class="token template-string string" style="color:#e3116c">    kspacey -- swilliams;</span><br></span><span class="token-line" style="color:#393A34"><span class="token template-string string" style="color:#e3116c">    swilliams -- kbacon;</span><br></span><span class="token-line" style="color:#393A34"><span class="token template-string string" style="color:#e3116c">    bpitt -- kbacon;</span><br></span><span class="token-line" style="color:#393A34"><span class="token template-string string" style="color:#e3116c">    hford -- lwilson;</span><br></span><span class="token-line" style="color:#393A34"><span class="token template-string string" style="color:#e3116c">    lwilson -- kbacon;</span><br></span><span class="token-line" style="color:#393A34"><span class="token template-string string" style="color:#e3116c">}</span><span class="token template-string template-punctuation string" style="color:#e3116c">`</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">renderer</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">setGraph</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">graph</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="renderer-with-svg-api">Renderer with SVG API<a href="#renderer-with-svg-api" class="hash-link" aria-label="Direct link to Renderer with SVG API" title="Direct link to Renderer with SVG API">​</a></h2><p>Constructor:</p><div class="language-ts codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-ts codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">rendererSvg</span><span class="token operator" style="color:#393A34">=</span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">RendererSVG</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">container</span><span class="token operator" style="color:#393A34">?</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> HTMLDivElement</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>To layout and render a new graph:</p><div class="language-ts codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-ts codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">rendererSvg</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">setGraph</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">g</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> Graph</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> options</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> RenderOptions</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>To change the layout of the current graph:</p><div class="language-ts codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-ts codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">rendererSvg</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">setOptions</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">options</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> LayoutOptions</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>To get the SVG representation of the graph:</p><div class="language-ts codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-ts codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">getSvg</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> SVGAElement</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/msagljs/docs/configuration"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Configuration</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#use-the-layout-engine-directly" class="table-of-contents__link toc-highlight">Use the layout engine directly</a><ul><li><a href="#create-a-geometry-graph-and-call-the-default-layout" class="table-of-contents__link toc-highlight">Create a geometry graph and call the default layout</a></li><li><a href="#sugiyama-scheme-or-layered-layout" class="table-of-contents__link toc-highlight">Sugiyama scheme, or layered layout.</a></li><li><a href="#pivot-multidimensional-scaling-or-pivot-mds" class="table-of-contents__link toc-highlight">Pivot Multidimensional Scaling, or Pivot MDS</a></li><li><a href="#ipsepcola" class="table-of-contents__link toc-highlight">IPSepCola</a></li><li><a href="#the-default-layout" class="table-of-contents__link toc-highlight">The default layout</a></li></ul></li><li><a href="#edge-routing" class="table-of-contents__link toc-highlight">Edge routing</a><ul><li><a href="#spline-routing-mode" class="table-of-contents__link toc-highlight">&quot;Spline&quot; routing mode</a></li><li><a href="#splinebundling-routing-mode" class="table-of-contents__link toc-highlight">&quot;SplineBundling&quot; routing mode</a></li><li><a href="#rectilinear-routing-mode" class="table-of-contents__link toc-highlight">&quot;Rectilinear&quot; routing mode</a></li><li><a href="#straightline-routing-mode" class="table-of-contents__link toc-highlight">&quot;StraightLine&quot; routing mode</a></li></ul></li><li><a href="#renderer-with-deckgl" class="table-of-contents__link toc-highlight">Renderer with Deck.gl</a></li><li><a href="#usage-of-svg-renderer" class="table-of-contents__link toc-highlight">Usage of SVG Renderer</a></li><li><a href="#renderer-with-svg-api" class="table-of-contents__link toc-highlight">Renderer with SVG API</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/msagljs/docs/intro">Introducation</a></li></ul></div><div class="col footer__col"><div class="footer__title">Legal</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://go.microsoft.com/fwlink/?LinkId=521839" target="_blank" rel="noopener noreferrer" class="footer__link-item">Privacy &amp; Cookies<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://www.microsoft.com/en-us/legal/intellectualproperty/copyright" target="_blank" rel="noopener noreferrer" class="footer__link-item">Terms of Use<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://www.microsoft.com/en-us/legal/intellectualproperty/trademarks/usage/general" target="_blank" rel="noopener noreferrer" class="footer__link-item">Trademarks<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright"><a href="https://github.com/microsoft/msagljs/commit/94939059600a5497a2e5711aa9141b1d94308878" target="_blank" rel="noopener noreferrer">94939059</a> | Copyright © 2023 Microsoft Corporation.</div></div></div></footer></div>
<script src="/msagljs/assets/js/runtime~main.e94551c3.js"></script>
<script src="/msagljs/assets/js/main.d4a163c8.js"></script>
</body>
</html>